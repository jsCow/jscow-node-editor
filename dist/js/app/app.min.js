PromotionDiscountRule={grid:30,repositories:[{group:"promotionconditions",title:"Promotion Conditions",description:"Create condition nodes in order to define, what discount is granted to users of the specified target group.",types:[{title:"Item Inclutions","class":"jsc-node-promotion-condition",config:[{type:"jsCow.res.components.nodebutton",title:"Select Inclutions..."}],inputs:[{type:!1,id:"in1",value:1}],outputs:[{type:!1,id:"out1",value:1}]},{title:"Item Exclusions","class":"jsc-node-promotion-condition",config:[{type:"jsCow.res.components.nodebutton",title:"Select Exclusions..."}],inputs:[{type:!1,id:"in1",value:1}],outputs:[{type:!1,id:"out1",value:1}]}]},{group:"promotionactions",title:"Promotion Actions",description:"Create actions in order to define, what discount is granted to users of the specified target group.",types:[{title:"Discount - Item Value Off","class":"jsc-node-promotion-action",inputs:[{type:!1,id:"in1",value:1}]}]}],nodes:[{id:"itemcondition1",title:"Item Inclutions","class":"jsc-node-promotion-condition",pos:{left:50,top:50},config:[{type:"jsCow.res.components.nodebutton",title:"Select Inclutions...",events:{click:function(e){alert("click...")}}},{type:"jsCow.res.components.noderadio",title:"Radios",value:[{title:"Radio 1",value:1},{title:"Radio 2",value:2},{title:"Radio 4",value:4,selected:!0}]},{type:"jsCow.res.components.nodedropdown",title:"Select Option",value:[{title:"Option 1",value:1},{title:"Option 2",value:2,selected:!0},{title:"Option 3",value:3},{title:"Option 4",value:4}]},{type:"jsCow.res.components.nodecheckbox",title:"Enable",value:1,checked:!0}],inputs:[{type:!1,title:"Title",id:"in1",value:1},{type:"jsCow.res.components.noderadio",title:"Radios",value:[{title:"Radio 1",value:1},{title:"Radio 2",value:2,selected:!0},{title:"Radio 3",value:3}]},{type:"jsCow.res.components.nodecheckbox",title:"Enable",value:1,checked:!1}],outputs:[{type:!1,id:"out1",value:1},{type:"jsCow.res.components.noderadio",title:"Radios",value:[{title:"Radio 2",value:2},{title:"Radio 3",value:3,selected:!0},{title:"Radio 4",value:4}]},{type:"jsCow.res.components.nodecheckbox",title:"Enable",value:1,checked:!0}]},{id:"itemcondition2",title:"Item Exclusions","class":"jsc-node-promotion-condition",pos:{left:300,top:50},config:[{type:"jsCow.res.components.nodebutton",title:"Select Exclusions..."}],inputs:[{type:!1,id:"in1",value:1}],outputs:[{type:!1,id:"out1",value:1}]},{id:"itemdiscount1",title:"Discount - Item Value Off","class":"jsc-node-promotion-action",pos:{left:700,top:250},config:[{type:"jsCow.res.components.nodeinput",title:"Value ($)",value:"19.95"},{type:"jsCow.res.components.nodeinput",title:"with min price ($)",value:"0.00"}],inputs:[{type:!1,id:"in1",value:1}]}],connections:[{from:{node:"itemcondition1",out:"out1"},to:{node:"itemcondition2","in":"in1"}},{from:{node:"itemcondition2",out:"out1"},to:{node:"itemdiscount1","in":"in1"}}]},NodeEditorOptions1={grid:30,repositories:[{group:"general",title:"General Nodes",description:"General repository of node types.",types:[{title:"Node 1/1",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Muh Node",inputs:[],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]}]}],nodes:[{id:"node1",title:"Node 1",pos:{left:30,top:30},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Output Port 2",value:1},{type:!1,id:"out3",title:"Output Port 3",value:1},{type:!1,id:"out4",title:"Output Port 4",value:1},{type:!1,id:"out5",title:"Output Port 5",value:1}]},{id:"node2",title:"Node 2",pos:{left:580,top:200},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:1},{type:!1,id:"in3",title:"Input Port 3",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Output Port 2",value:1}]},{id:"node3",title:"Node 3",pos:{left:1e3,top:150},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]}],connections:[{from:{node:"node1",out:"out1"},to:{node:"node2","in":"in1"}},{color:"#f00",from:{node:"node1",out:"out1"},to:{node:"node2","in":"in2"}},{from:{node:"node1",out:"out4"},to:{node:"node2","in":"in3"}},{color:"#fc0",from:{node:"node2",out:"out2"},to:{node:"node3","in":"in1"}},{from:{node:"node1",out:"out2"},to:{node:"node3","in":"in1"}}]},NodeEditorOptions2={grid:20,nodes:[{id:"node1",title:"Node 1",pos:{left:20,top:20},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Output Port 2",value:1}]},{id:"node2",title:"Node 2",pos:{left:280,top:50},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Output Port 2",value:1}]},{id:"node3",title:"Node 3",pos:{left:150,top:200},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Input Port 2",value:1}]}],connections:[{from:{node:"node1",out:"out1"},to:{node:"node2","in":"in1"}},{from:{node:"node1",out:"out1"},to:{node:"node2","in":"in2"}}]},$(function(){console.time("all"),nodeeditor1=jsCow.get(jsCow.res.components.nodeeditor,{id:"node-editor-1",model:{options:{autosave:!0}}}).on("editor.options.changed",function(e){console.log(e.sender.id()+" >>> changed >>>",e.data)}).target("#node-editor-1").run(),nodeeditor2=jsCow.get(jsCow.res.components.nodeeditor,{id:"node-editor-2"}).on("editor.options.changed",function(e){console.log(e.sender.id()+" >>> changed >>>",e.data)}).target("#node-editor-2").run(),$("<button>Promotion Discount Rule</button>").click(function(){jsCow.find("node-editor-1").options(PromotionDiscountRule)}).appendTo("body"),$("<button>Set Options 1</button>").click(function(){jsCow.find("node-editor-1").options(NodeEditorOptions1)}).appendTo("body"),$("<button>Set Options 2</button>").click(function(){jsCow.find("node-editor-2").options(NodeEditorOptions2)}).appendTo("body"),$("body").append('<button id="addNodes">Add Nodes</button>'),$("#addNodes").click(function(){jsCow.find("node-editor-1").addNode([{id:"node100",title:"Node 100",description:"This is a typical cool short node description.",pos:{left:30,top:150},config:[{type:"jsCow.res.components.nodeinput",title:"Config Input 1",value:1},{type:"jsCow.res.components.nodecheckbox",id:"cfg2",title:"Config Input 2",checked:!0}],inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:2},{type:!1,id:"in3",title:"Input Port 3",value:3}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Output Port 2",value:1},{type:!1,id:"out3",title:"Output Port 3",value:1}]},{id:"node2",title:"Node 2",description:"Another short node description for these node. Cool what?",pos:{left:380,top:180},config:[{type:"jsCow.res.components.nodeinput",title:"Config Input 1",value:1}],inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:"jsCow.res.components.nodeinput",id:"in2",title:"Input Port 2",value:2}],outputs:[{type:"jsCow.res.components.nodecheckbox",id:"out1",title:"Config Output 1",value:123,checked:!1},{type:!1,id:"out2",title:"Output Port 2",value:2}]}])}),$("body").append('<button id="addSingleNode">Add Single Node</button>'),$("#addSingleNode").click(function(){jsCow.find("node-editor-1").addNode({id:"node200",title:"Node 200",description:"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.","class":"jsc-node-custom-style",pos:{left:500,top:400},inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1},{type:!1,id:"in2",title:"Input Port 2",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1},{type:!1,id:"out2",title:"Output Port 2",value:1}]})}),$("body").append('<button id="addConnections">Set Connection</button>'),$("#addConnections").click(function(){jsCow.find("node-editor-1").addConnection([{from:{node:"node1",out:"out1"},to:{node:"node100","in":"in1"}},{color:"#A52A2A",from:{node:"node2",out:"out1"},to:{node:"node200","in":"in2"}},{from:{node:"node100",out:"out2"},to:{node:"node200","in":"in1"}}])}),$("body").append('<button id="addRepository">Add Repository - general</button>'),$("#addRepository").click(function(){jsCow.find("node-editor-1").addNodesRepository({group:"general",title:"General Nodes",description:"General repository of node types.",types:[{title:"Node 1/1",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Muh Node",inputs:[],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]}]})}),$("body").append('<button id="addRepositoryRules">Add Repository - Rules</button>'),$("#addRepositoryRules").click(function(){jsCow.find("node-editor-1").addNodesRepository({group:"rules",title:"Promotion Rules",description:"Repository of node types for promotion rules",types:[{title:"Node 1/1",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Muh Node",inputs:[],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]}]})}),$("body").append('<button id="addRepositoryTest">Add Repository - Test</button>'),$("#addRepositoryTest").click(function(){jsCow.find("node-editor-1").addNodesRepository({group:"test",title:"Test",description:"Test Group",types:[{title:"Node 1/1",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Muh Node",inputs:[],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]}]})}),$("body").append('<button id="addRepository2">Add Repository - general (2)</button>'),$("#addRepository2").click(function(){jsCow.find("node-editor-2").addNodesRepository({group:"general",title:"General Nodes",description:"General repository of node types.",types:[{title:"Node 1/1",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Muh Node",inputs:[],outputs:[{type:!1,id:"out1",title:"Output Port 1",value:1}]},{title:"Test Node",inputs:[{type:!1,id:"in1",title:"Input Port 1",value:1}],outputs:[]}]})}),$("<button>Reset (Editor 1)</button>").click(function(){jsCow.find("node-editor-1").reset()}).appendTo("body"),$("<button>Reset (Editor 2)</button>").click(function(){jsCow.find("node-editor-2").reset()}).appendTo("body"),console.timeEnd("all"),console.log(jsCow.componentsObjectList.length,"components created...")});